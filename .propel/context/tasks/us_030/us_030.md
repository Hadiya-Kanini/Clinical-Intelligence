# User Story - US_030

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_030]
  * Title: [Process password reset and invalidate token]
## Description:
   * [As a user, I want my password updated and the reset token invalidated after successful reset.]
## Acceptance Criteria:
   * [Given I submit a new password, When processed, Then my password is updated and the token is invalidated.]
## Edge Cases:
   * [What happens when password update fails after token validation?]
## Traceability:
### Parent:
    * [EP-007]
### Tags:
    * [FR-009r, Backend, Security]
### Dependencies:
    * [US_029]
```
---

## Story ID
   * ID Format: US_030

## Story Title
   * Process password reset and invalidate token

## Description
  * As a user, I want my password updated and the reset token invalidated after successful reset, so that the token cannot be reused.

## Acceptance Criteria
  * Given I submit a valid new password, When processed, Then my password hash is updated in the database.
  * Given successful password update, When completed, Then the reset token is immediately invalidated (FR-009r).
  * Given token invalidation, When the same token is used again, Then it is rejected as invalid.
  * Given successful reset, When completed, Then the UI shows success message (FR-116d).

## Edge Cases
   * What happens when password update fails after token validation?
   * What happens when the database is unavailable during reset?
   * How does the system handle concurrent reset attempts with the same token?

## Traceability
### Parent Epic
    * Epic : EP-007

### Requirement Tags
    * FR-009r
    * Backend
    * Security

### Dependencies
    * US_029
