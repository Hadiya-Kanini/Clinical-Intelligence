# User Story - US_032

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_032]
  * Title: [Audit password reset attempts and completions]
## Description:
   * [As a security officer, I want all password reset attempts and completions logged, so that I can investigate suspicious activity.]
## Acceptance Criteria:
   * [Given a reset is requested, When processed, Then PASSWORD_RESET_REQUESTED is logged.]
## Edge Cases:
   * [What happens when audit logging fails?]
## Traceability:
### Parent:
    * [EP-007]
### Tags:
    * [FR-009t, FR-097, Backend, Audit]
### Dependencies:
    * [US_025, US_030]
```
---

## Story ID
   * ID Format: US_032

## Story Title
   * Audit password reset attempts and completions

## Description
  * As a security officer, I want all password reset attempts and completions logged in the audit trail, so that I can investigate suspicious activity.

## Acceptance Criteria
  * Given a password reset is requested, When processed, Then PASSWORD_RESET_REQUESTED event is logged with email, IP, timestamp, token ID.
  * Given a password reset is completed, When successful, Then PASSWORD_RESET_COMPLETED event is logged with user ID, IP, timestamp, token ID.
  * Given a reset attempt with invalid token, When detected, Then the failed attempt is logged.
  * Given audit logging, When events are recorded, Then they include sufficient metadata for investigation.

## Edge Cases
   * What happens when audit logging fails during reset process?
   * How does the system handle high-volume reset attempts (potential attack)?
   * What happens when the audit log storage is full?

## Traceability
### Parent Epic
    * Epic : EP-007

### Requirement Tags
    * FR-009t
    * FR-097
    * Backend
    * Audit

### Dependencies
    * US_025
    * US_030
