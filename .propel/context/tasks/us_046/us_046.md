# User Story - US_046

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_046]
  * Title: [Validate file format, MIME type, and size]
## Description:
   * [As a security officer, I want uploaded files validated for format, MIME type, and size, so that only valid documents are processed.]
## Acceptance Criteria:
   * [Given a file is uploaded, When validated, Then format, MIME type, and size are checked.]
## Edge Cases:
   * [What happens when MIME type doesn't match extension?]
## Traceability:
### Parent:
    * [EP-012]
### Tags:
    * [FR-015, FR-015a, FR-015b, FR-016, Backend, Validation, Security]
### Dependencies:
    * [US_044]
```
---

## Story ID
   * ID Format: US_046

## Story Title
   * Validate file format, MIME type, and size

## Description
  * As a security officer, I want uploaded files validated for format (PDF/DOCX only), MIME type, and size (â‰¤50MB), so that only valid documents enter the processing pipeline.

## Acceptance Criteria
  * Given a file is uploaded, When validated, Then only .pdf and .docx extensions are accepted (FR-015a).
  * Given a file is uploaded, When validated, Then MIME type must match declared format (FR-015b).
  * Given a file is uploaded, When validated, Then size must not exceed 50MB (FR-016).
  * Given validation failure, When detected, Then the file is rejected with specific error message.

## Edge Cases
   * What happens when MIME type doesn't match extension (e.g., .pdf with text/plain)?
   * How does the system handle files with double extensions (.pdf.exe)?
   * What happens with files exactly at the 50MB limit?

## Traceability
### Parent Epic
    * Epic : EP-012

### Requirement Tags
    * FR-015
    * FR-015a
    * FR-015b
    * FR-016
    * Backend
    * Validation
    * Security

### Dependencies
    * US_044
