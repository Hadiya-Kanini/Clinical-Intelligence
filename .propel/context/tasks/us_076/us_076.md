# User Story - US_076

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_076]
  * Title: [Persist conflicts with source provenance]
## Description:
   * [As a platform engineer, I want conflicts persisted with source provenance, so that resolution has full context.]
## Acceptance Criteria:
   * [Given detected conflicts, When stored, Then they include conflicting values, sources, and severity.]
## Edge Cases:
   * [What happens when conflict storage fails?]
## Traceability:
### Parent:
    * [EP-021]
### Tags:
    * [FR-059, DR-009, Backend, Conflict]
### Dependencies:
    * [US_075]
```
---

## Story ID
   * ID Format: US_076

## Story Title
   * Persist conflicts with source provenance

## Description
  * As a platform engineer, I want conflicts persisted with source provenance, so that resolution has full context for decision-making.

## Acceptance Criteria
  * Given detected conflicts, When stored, Then they include conflicting values and their sources (FR-059).
  * Given conflict records, When persisted, Then they include document location for each value.
  * Given conflict storage, When designed, Then severity level is included (DR-009).
  * Given conflicts, When stored, Then they are linked to the patient and ready for UI presentation.

## Edge Cases
   * What happens when conflict storage fails?
   * How does the system handle updates to conflicts when new documents are added?
   * What happens when a conflict is resolved but new documents reintroduce it?

## Traceability
### Parent Epic
    * Epic : EP-021

### Requirement Tags
    * FR-059
    * DR-009
    * Backend
    * Conflict

### Dependencies
    * US_075
