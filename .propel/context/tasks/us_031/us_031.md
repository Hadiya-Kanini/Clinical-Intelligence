# User Story - US_031

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_031]
  * Title: [Invalidate all sessions on password reset]
## Description:
   * [As a security officer, I want all existing sessions invalidated when a password is reset, so that compromised sessions are terminated.]
## Acceptance Criteria:
   * [Given a password is reset, When completed, Then all existing sessions for that user are invalidated.]
## Edge Cases:
   * [What happens when session invalidation fails?]
## Traceability:
### Parent:
    * [EP-007]
### Tags:
    * [FR-009s, Backend, Security]
### Dependencies:
    * [US_030]
```
---

## Story ID
   * ID Format: US_031

## Story Title
   * Invalidate all sessions on password reset

## Description
  * As a security officer, I want all existing sessions invalidated when a password is reset, so that potentially compromised sessions are terminated.

## Acceptance Criteria
  * Given a password is successfully reset, When completed, Then all existing sessions for that user are invalidated.
  * Given session invalidation, When a previous session token is used, Then the API returns 401 Unauthorized.
  * Given session invalidation, When completed, Then the user must re-authenticate with the new password.
  * Given the reset process, When sessions are invalidated, Then the action is logged in the audit trail.

## Edge Cases
   * What happens when session invalidation fails but password was updated?
   * What happens when the user has sessions across multiple devices?
   * How does the system handle in-flight requests during session invalidation?

## Traceability
### Parent Epic
    * Epic : EP-007

### Requirement Tags
    * FR-009s
    * Backend
    * Security

### Dependencies
    * US_030
