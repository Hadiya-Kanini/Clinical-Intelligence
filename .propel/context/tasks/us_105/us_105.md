# User Story - US_105

## Quick Reference Schema
```yaml
# User Story:
  * ID: [US_105]
  * Title: [Log patient data access and PHI views]
## Description:
   * [As a compliance officer, I want PHI access explicitly logged, so that I can track who viewed patient data.]
## Acceptance Criteria:
   * [Given PHI access, When it occurs, Then VIEW_PATIENT and related events are logged.]
## Edge Cases:
   * [What happens when the same user views the same patient repeatedly?]
## Traceability:
### Parent:
    * [EP-031]
### Tags:
    * [FR-100, FR-102, Backend, Audit, Compliance]
### Dependencies:
    * [US_101]
```
---

## Story ID
   * ID Format: US_105

## Story Title
   * Log patient data access and PHI views

## Description
  * As a compliance officer, I want PHI access explicitly logged, so that I can track who viewed patient data for HIPAA compliance.

## Acceptance Criteria
  * Given patient data access, When it occurs, Then PATIENT_360_VIEWED, PATIENT_DATA_EXPORTED are logged (FR-100).
  * Given PHI views, When they occur, Then VIEW_PATIENT access is explicitly logged (FR-102).
  * Given clinical actions, When they occur, Then DIAGNOSIS_ADDED, MEDICATION_UPDATED, CONFLICT_RESOLVED, ICD/CPT decisions are logged.
  * Given PHI logging, When implemented, Then it captures the patient ID and data categories accessed.

## Edge Cases
   * What happens when the same user views the same patient repeatedly?
   * How does the system handle logging for batch operations affecting multiple patients?
   * What happens when PHI is accessed via API vs UI?

## Traceability
### Parent Epic
    * Epic : EP-031

### Requirement Tags
    * FR-100
    * FR-102
    * Backend
    * Audit
    * Compliance

### Dependencies
    * US_101
